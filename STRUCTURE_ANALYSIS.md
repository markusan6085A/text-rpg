# üìã –ê–Ω–∞–ª—ñ–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –º—ñ—Å—Ç, –∑–æ–Ω —Ç–∞ –º–æ–±—ñ–≤

## ‚úÖ –©–æ –ø—Ä–∞—Ü—é—î –¥–æ–±—Ä–µ

### 1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫
```
src/data/
‚îú‚îÄ‚îÄ world/          # –ú—ñ—Å—Ç–∞ —Ç–∞ —ó—Ö –∑–æ–Ω–∏
‚îÇ   ‚îú‚îÄ‚îÄ floran.ts
‚îÇ   ‚îú‚îÄ‚îÄ dion.ts
‚îÇ   ‚îú‚îÄ‚îÄ gludin.ts
‚îÇ   ‚îî‚îÄ‚îÄ types.ts    # City, Zone, Mob —Ç–∏–ø–∏
‚îú‚îÄ‚îÄ zones/          # –ú–æ–±–∏ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏—Ö –∑–æ–Ω
‚îÇ   ‚îú‚îÄ‚îÄ floran_outskirts.ts
‚îÇ   ‚îú‚îÄ‚îÄ execution_grounds.ts
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ drop/           # –õ–æ–≥—ñ–∫–∞ –¥—Ä–æ–ø—ñ–≤
    ‚îî‚îÄ‚îÄ floranMobDrops.ts
```

### 2. –û—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö
- ‚úÖ –ú—ñ—Å—Ç–∞ –≤–∏–∑–Ω–∞—á–µ–Ω—ñ –æ–∫—Ä–µ–º–æ (`City` –∑ `id`, `name`, `tpCost`)
- ‚úÖ –ó–æ–Ω–∏ –ø—Ä–∏–≤'—è–∑–∞–Ω—ñ –¥–æ –º—ñ—Å—Ç —á–µ—Ä–µ–∑ `cityId`
- ‚úÖ –ú–æ–±–∏ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ –º–∞—Å–∏–≤—ñ `mobs` –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –∫–æ–∂–Ω–æ—ó –∑–æ–Ω–∏
- ‚úÖ –¶–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π –µ–∫—Å–ø–æ—Ä—Ç —á–µ—Ä–µ–∑ `src/data/world.ts`

### 3. –õ–æ–≥—ñ–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
- ‚úÖ `WORLD_LOCATIONS` - –º–∞—Å–∏–≤ –≤—Å—ñ—Ö –∑–æ–Ω
- ‚úÖ `WORLD` - –º–∞—Å–∏–≤ –º—ñ—Å—Ç –∑ —ó—Ö –∑–æ–Ω–∞–º–∏
- ‚úÖ –§—É–Ω–∫—Ü—ñ—ó `getCityById()`, `getLocationById()`, `findZoneWithCity()`

<hr style="border: none; border-top: 2px dotted #C9B36B; margin: 20px 0;">

## ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º–∏, —è–∫—ñ –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏–ø—Ä–∞–≤–∏—Ç–∏

### üî¥ –ö–†–ò–¢–ò–ß–ù–ê: –î–≤–∞ —Ä—ñ–∑–Ω—ñ —Ç–∏–ø–∏ `Mob`

**–ü—Ä–æ–±–ª–µ–º–∞:**
1. `src/data/world/types.ts` - `Mob` –º–∞—î:
   ```typescript
   {
     id, name, level, hp, exp, sp?, 
     adenaMin, adenaMax, dropChance
   }
   ```
   ‚ùå **–ù–ï –º–∞—î:** `pAtk`, `mAtk`, `pDef`, `mDef`, `mp`, `drops`

2. `src/data/combat/types.ts` - `Mob` –º–∞—î:
   ```typescript
   {
     id, name, level, hp, mp,
     pAtk, mAtk, pDef, mDef,
     exp, sp, drops
   }
   ```
   ‚ùå **–ù–ï –º–∞—î:** `adenaMin`, `adenaMax`, `dropChance`

**–ù–∞—Å–ª—ñ–¥–∫–∏:**
- –í –∫–æ–¥—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è `Mob` –∑ `world/types.ts`
- –í –±–æ—é –ø–æ—Ç—Ä—ñ–±–Ω—ñ —Å—Ç–∞—Ç–∏, —Ç–æ–º—É –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è fallback:
  ```typescript
  pAtk: (state.mob as any).pAtk ?? (state.mob.level ?? 1) * 10
  pDef: (state.mob as any).pDef ?? 50
  mAtk: (state.mob as any).mAtk ?? 0
  mDef: (state.mob as any).mDef ?? 50
  ```
- –¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ **–≤—Å—ñ –º–æ–±–∏ –º–∞—é—Ç—å –æ–¥–Ω–∞–∫–æ–≤—ñ —Å—Ç–∞—Ç–∏** (–∑–∞–ª–µ–∂–∞—Ç—å —Ç—ñ–ª—å–∫–∏ –≤—ñ–¥ —Ä—ñ–≤–Ω—è)!

### üü° –ü—Ä–æ–±–ª–µ–º–∞: –í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å —Å—Ç–∞—Ç—ñ–≤ —É –º–æ–±—ñ–≤

**–ü–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω:**
- –ú–æ–±–∏ –≤ `zones/*.ts` –º–∞—é—Ç—å —Ç—ñ–ª—å–∫–∏ `hp`, `exp`, `adenaMin/Max`, `dropChance`
- –°—Ç–∞—Ç–∏ (`pAtk`, `mAtk`, `pDef`, `mDef`, `mp`) –æ–±—á–∏—Å–ª—é—é—Ç—å—Å—è –Ω–∞ –ª—å–æ—Ç—É –∑ fallback –∑–Ω–∞—á–µ–Ω—å
- –ù–µ–º–∞—î —Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–æ—ó –ª–æ–≥—ñ–∫–∏ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è —Å—Ç–∞—Ç—ñ–≤ –º–æ–±—ñ–≤

**–ü—Ä–∏–∫–ª–∞–¥ –∑ –∫–æ–¥—É:**
```typescript
// src/state/battle/actions/processMobAttack.ts:107
const mobBaseStats = {
  pAtk: (state.mob as any).pAtk ?? (state.mob.level ?? 1) * 10,
  pDef: (state.mob as any).pDef ?? 50,
  mAtk: (state.mob as any).mAtk ?? 0,
  mDef: (state.mob as any).mDef ?? 50,
};
```

### üü° –ü—Ä–æ–±–ª–µ–º–∞: –î—Ä–æ–ø–∏ —Ä–æ–∑–¥—ñ–ª–µ–Ω—ñ

**–ü–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω:**
- –ú–æ–±–∏ –º–∞—é—Ç—å `dropChance` (–∑–∞–≥–∞–ª—å–Ω–∏–π —à–∞–Ω—Å –¥—Ä–æ–ø–∞)
- –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –ø—Ä–µ–¥–º–µ—Ç–∏ –≤–∏–∑–Ω–∞—á–µ–Ω—ñ –≤ `drop/floranMobDrops.ts` –ø–æ –ø—Ä–æ—Ñ—ñ–ª—è—Ö
- –ê–ª–µ –≤ `combat/types.ts` —î `drops: DropEntry[]` - —è–∫–∏–π –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è

### üü° –ü—Ä–æ–±–ª–µ–º–∞: –ü–æ—Ä–æ–∂–Ω—è –ø–∞–ø–∫–∞ `src/data/mobs/`

–ü–∞–ø–∫–∞ —ñ—Å–Ω—É—î, –∞–ª–µ –ø–æ—Ä–æ–∂–Ω—è. –ú–æ–∂–ª–∏–≤–æ, –ø–ª–∞–Ω—É–≤–∞–ª–∞—Å—å –¥–ª—è —Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–æ–≥–æ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –º–æ–±—ñ–≤?

<hr style="border: none; border-top: 2px dotted #C9B36B; margin: 20px 0;">

## üîß –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –¥–ª—è —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥—É

### 1. –û–±'—î–¥–Ω–∞—Ç–∏ —Ç–∏–ø–∏ `Mob` –≤ –æ–¥–∏–Ω

**–í–∞—Ä—ñ–∞–Ω—Ç –ê: –†–æ–∑—à–∏—Ä–∏—Ç–∏ `world/types.ts`**
```typescript
export interface Mob {
  // –ë–∞–∑–æ–≤—ñ –¥–∞–Ω—ñ
  id: string;
  name: string;
  level: number;
  
  // –†–µ—Å—É—Ä—Å–∏
  hp: number;
  mp: number;  // –î–û–î–ê–¢–ò
  
  // –°—Ç–∞—Ç–∏ (–æ–±–æ–≤'—è–∑–∫–æ–≤—ñ –∞–±–æ –æ–±—á–∏—Å–ª—é–≤–∞–Ω—ñ)
  pAtk: number;  // –î–û–î–ê–¢–ò
  mAtk: number;  // –î–û–î–ê–¢–ò
  pDef: number;  // –î–û–î–ê–¢–ò
  mDef: number;  // –î–û–î–ê–¢–ò
  
  // –î–æ—Å–≤—ñ–¥ —Ç–∞ –≤–∞–ª—é—Ç–∞
  exp: number;
  sp?: number;
  adenaMin: number;
  adenaMax: number;
  
  // –î—Ä–æ–ø
  dropChance: number;
  drops?: DropEntry[];  // –û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ –¥–ª—è —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–∏—Ö –º–æ–±—ñ–≤
}
```

**–í–∞—Ä—ñ–∞–Ω—Ç –ë: –°—Ç–≤–æ—Ä–∏—Ç–∏ —É—Ç–∏–ª—ñ—Ç—É –¥–ª—è –æ–±—á–∏—Å–ª–µ–Ω–Ω—è —Å—Ç–∞—Ç—ñ–≤**
```typescript
// src/utils/mobs/calcMobStats.ts
export function calcMobStats(mob: BaseMob): MobStats {
  const level = mob.level;
  return {
    pAtk: Math.round(level * 12 + mob.hp * 0.1),
    mAtk: mob.isMage ? Math.round(level * 10 + mob.hp * 0.08) : 0,
    pDef: Math.round(level * 8 + mob.hp * 0.15),
    mDef: Math.round(level * 8 + mob.hp * 0.12),
    mp: mob.isMage ? Math.round(level * 20) : 0,
  };
}
```

### 2. –°—Ç–≤–æ—Ä–∏—Ç–∏ —Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω—É —Å–∏—Å—Ç–µ–º—É –º–æ–±—ñ–≤

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```
src/data/mobs/
‚îú‚îÄ‚îÄ types.ts           # –û–±'—î–¥–Ω–∞–Ω–∏–π —Ç–∏–ø Mob
‚îú‚îÄ‚îÄ calcStats.ts       # –û–±—á–∏—Å–ª–µ–Ω–Ω—è —Å—Ç–∞—Ç—ñ–≤ –º–æ–±—ñ–≤
‚îú‚îÄ‚îÄ templates.ts       # –®–∞–±–ª–æ–Ω–∏ –º–æ–±—ñ–≤ (melee, mage, archer, etc.)
‚îî‚îÄ‚îÄ index.ts           # –ï–∫—Å–ø–æ—Ä—Ç
```

### 3. –û–Ω–æ–≤–∏—Ç–∏ —ñ—Å–Ω—É—é—á—ñ –º–æ–±–∏

**–ü–ª–∞–Ω:**
1. –î–æ–¥–∞—Ç–∏ —Å—Ç–∞—Ç–∏ –¥–æ –≤—Å—ñ—Ö –º–æ–±—ñ–≤ –≤ `zones/*.ts`
2. –ê–±–æ —Å—Ç–≤–æ—Ä–∏—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—é, —è–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–±—á–∏—Å–ª—é—î —Å—Ç–∞—Ç–∏ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ
3. –í–∏–¥–∞–ª–∏—Ç–∏ fallback –ª–æ–≥—ñ–∫—É –∑ `processMobAttack.ts`

### 4. –£–Ω—ñ—Ñ—ñ–∫—É–≤–∞—Ç–∏ –¥—Ä–æ–ø–∏

**–í–∞—Ä—ñ–∞–Ω—Ç –ê:** –ó–±–µ—Ä—ñ–≥–∞—Ç–∏ `drops: DropEntry[]` –ø—Ä—è–º–æ –≤ –º–æ–±—ñ
**–í–∞—Ä—ñ–∞–Ω—Ç –ë:** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –ø—Ä–æ—Ñ—ñ–ª—ñ –¥—Ä–æ–ø—ñ–≤ (—è–∫ –∑–∞—Ä–∞–∑)

<hr style="border: none; border-top: 2px dotted #C9B36B; margin: 20px 0;">

## üìù –ü–ª–∞–Ω –¥—ñ–π

### –ï—Ç–∞–ø 1: –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞
- [ ] –°—Ç–≤–æ—Ä–∏—Ç–∏ –æ–±'—î–¥–Ω–∞–Ω–∏–π —Ç–∏–ø `Mob` –≤ `src/data/mobs/types.ts`
- [ ] –°—Ç–≤–æ—Ä–∏—Ç–∏ —É—Ç–∏–ª—ñ—Ç—É `calcMobStats()` –¥–ª—è –æ–±—á–∏—Å–ª–µ–Ω–Ω—è —Å—Ç–∞—Ç—ñ–≤
- [ ] –°—Ç–≤–æ—Ä–∏—Ç–∏ —à–∞–±–ª–æ–Ω–∏ –º–æ–±—ñ–≤ (melee, mage, archer, tank)

### –ï—Ç–∞–ø 2: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥
- [ ] –û–Ω–æ–≤–∏—Ç–∏ –≤—Å—ñ –º–æ–±–∏ –≤ `zones/*.ts` - –¥–æ–¥–∞—Ç–∏ —Å—Ç–∞—Ç–∏
- [ ] –û–Ω–æ–≤–∏—Ç–∏ `world/types.ts` - –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –Ω–æ–≤–∏–π —Ç–∏–ø
- [ ] –í–∏–¥–∞–ª–∏—Ç–∏ `combat/types.ts` (—è–∫—â–æ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è)
- [ ] –û–Ω–æ–≤–∏—Ç–∏ `processMobAttack.ts` - –ø—Ä–∏–±—Ä–∞—Ç–∏ fallback

### –ï—Ç–∞–ø 3: –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —â–æ –≤—Å—ñ –º–æ–±–∏ –º–∞—é—Ç—å —Å—Ç–∞—Ç–∏
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –±–∞–ª–∞–Ω—Å —É—Ä–æ–Ω—É/–∑–∞—Ö–∏—Å—Ç—É
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –¥—Ä–æ–ø–∏

<hr style="border: none; border-top: 2px dotted #C9B36B; margin: 20px 0;">

## üéØ –ü—Ä–∏–∫–ª–∞–¥ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –º–æ–±–∞

```typescript
// src/data/zones/floran_outskirts.ts
import type { Mob } from "../mobs/types";

export const FLORAN_OUTSKIRTS_MOBS: Mob[] = [
  {
    id: "fl_out_ragged_wolf",
    name: "Ragged Wolf",
    level: 1,
    hp: 60,
    mp: 0,
    pAtk: 15,      // ‚úÖ –î–û–î–ê–ù–û
    mAtk: 0,       // ‚úÖ –î–û–î–ê–ù–û
    pDef: 8,       // ‚úÖ –î–û–î–ê–ù–û
    mDef: 5,       // ‚úÖ –î–û–î–ê–ù–û
    exp: 20,
    adenaMin: 5,
    adenaMax: 12,
    dropChance: 0.18,
  },
];
```

<hr style="border: none; border-top: 2px dotted #C9B36B; margin: 20px 0;">

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

- **–ú—ñ—Å—Ç:** 12 (Floran, Dion, Gludin, Gludio, Giran, Heine, Hunters, Aden, Oren, Rune, Goddard, Schuttgart)
- **–ó–æ–Ω –∑ –º–æ–±–∞–º–∏:** –¢—ñ–ª—å–∫–∏ Floran (8 –∑–æ–Ω)
- **–ú–æ–±—ñ–≤:** ~300+ (—Ç—ñ–ª—å–∫–∏ –≤ Floran –∑–æ–Ω–∞—Ö)
- **–§–∞–π–ª—ñ–≤ –∑ –º–æ–±–∞–º–∏:** 9 –≤ `zones/`:
  - `floran_outskirts.ts` (~50 –º–æ–±—ñ–≤, lvl 1-8)
  - `wasteland.ts` (~40 –º–æ–±—ñ–≤, lvl 14-22)
  - `wasteland_west.ts` (~30 –º–æ–±—ñ–≤, lvl 22-28)
  - `abandoned_camp.ts` (~60 –º–æ–±—ñ–≤, lvl 28-36)
  - `execution_grounds.ts` (~100 –º–æ–±—ñ–≤, lvl 36-44)
  - `cruma_marshlands.ts` (~80 –º–æ–±—ñ–≤, lvl 44-52)
  - `floran_champion_fields.ts` (~40 –º–æ–±—ñ–≤, lvl 52-60)
  - `floran_raid_lair.ts` (~20 –º–æ–±—ñ–≤, lvl 60-70)
  - `windmill_hill.ts` (–ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏)

**‚ö†Ô∏è –ü–†–û–ë–õ–ï–ú–ê:** –Ü–Ω—à—ñ –º—ñ—Å—Ç–∞ –º–∞—é—Ç—å –ø–æ—Ä–æ–∂–Ω—ñ –∑–æ–Ω–∏ (`[]`)!

<hr style="border: none; border-top: 2px dotted #C9B36B; margin: 20px 0;">

## ‚úÖ –í–∏—Å–Ω–æ–≤–æ–∫

**–ì–æ–ª–æ–≤–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞:** –ú–æ–±–∏ –Ω–µ –º–∞—é—Ç—å —Å—Ç–∞—Ç—ñ–≤, —Ç–æ–º—É –≤—Å—ñ –º–æ–±–∏ –æ–¥–Ω–æ–≥–æ —Ä—ñ–≤–Ω—è –º–∞—é—Ç—å –æ–¥–Ω–∞–∫–æ–≤–∏–π —É—Ä–æ–Ω/–∑–∞—Ö–∏—Å—Ç.

**–†—ñ—à–µ–Ω–Ω—è:** –î–æ–¥–∞—Ç–∏ —Å—Ç–∞—Ç–∏ –¥–æ –≤—Å—ñ—Ö –º–æ–±—ñ–≤ –∞–±–æ —Å—Ç–≤–æ—Ä–∏—Ç–∏ —Å–∏—Å—Ç–µ–º—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è.

**–ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç:** –í–ò–°–û–ö–ò–ô - —Ü–µ –≤–ø–ª–∏–≤–∞—î –Ω–∞ –±–∞–ª–∞–Ω—Å –≥—Ä–∏!

