# üóÑÔ∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Supabase –¥–ª—è Text-RPG

## ‚úÖ –†–ï–ö–û–ú–ï–ù–î–ê–¶–Ü–Ø: –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è —á–µ—Ä–µ–∑ GitHub

**–ß–æ–º—É GitHub?**
- ‚úÖ –£ –≤–∞—Å –≤–∂–µ —î GitHub –∞–∫–∞—É–Ω—Ç
- ‚úÖ –®–≤–∏–¥–∫–∏–π –≤—Ö—ñ–¥ (–æ–¥–∏–Ω –∫–ª—ñ–∫)
- ‚úÖ –õ–µ–≥—à–µ —ñ–Ω—Ç–µ–≥—Ä—É–≤–∞—Ç–∏ –∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—è–º–∏
- ‚úÖ –ú–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ GitHub Actions –¥–ª—è CI/CD
- ‚úÖ –ö—Ä–∞—â–µ –¥–ª—è –¥–æ–≤–≥–æ—Ç—Ä–∏–≤–∞–ª–æ—ó —Ä–æ–∑—Ä–æ–±–∫–∏

**–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è —á–µ—Ä–µ–∑ Email** —Ç–µ–∂ –ø—Ä–∞—Ü—é—î, –∞–ª–µ –¥–ª—è —Ä–æ–∑—Ä–æ–±–∫–∏ GitHub –∑—Ä—É—á–Ω—ñ—à–µ.

<hr style="border: none; border-top: 2px dotted #C9B36B; margin: 20px 0;">

## –ö—Ä–æ–∫ 1: –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –Ω–∞ Supabase

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ [https://supabase.com](https://supabase.com)
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –∫–Ω–æ–ø–∫—É **"Start your project"** –∞–±–æ **"Sign Up"**
3. –í–∏–±–µ—Ä—ñ—Ç—å **"Sign up with GitHub"**
4. –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—è —á–µ—Ä–µ–∑ GitHub (—è–∫—â–æ –≤–∂–µ –∑–∞–ª–æ–≥—ñ–Ω–µ–Ω–∏–π)
5. –ù–∞–¥–∞–π—Ç–µ –¥–æ–∑–≤–æ–ª–∏ Supabase (Supabase –ø–æ—Ç—Ä–µ–±—É—î –¥–æ—Å—Ç—É–ø—É –¥–æ –ø—Ä–æ—Ñ—ñ–ª—é)

**–ì–æ—Ç–æ–≤–æ!** –í–∏ –∑–∞—Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω—ñ —á–µ—Ä–µ–∑ GitHub.

<hr style="border: none; border-top: 2px dotted #C9B36B; margin: 20px 0;">

## –ö—Ä–æ–∫ 2: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø—Ä–æ—î–∫—Ç—É

1. –ü—ñ—Å–ª—è –≤—Ö–æ–¥—É –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å **"New Project"**
2. –Ø–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ —Å—Ç–≤–æ—Ä–∏—Ç–∏ Organization:
   - –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"New Organization"**
   - –ù–∞–∑–≤–∞: `text-rpg` (–∞–±–æ —è–∫ —Ö–æ—á–µ—Ç–µ)
   - –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Create Organization"**

3. –ó–∞–ø–æ–≤–Ω—ñ—Ç—å —Ñ–æ—Ä–º—É –ø—Ä–æ—î–∫—Ç—É:
   - **Organization:** –û–±–µ—Ä—ñ—Ç—å –≤–∞—à—É –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—é
   - **Project Name:** `text-rpg` (–Ω–∞–∑–≤–∞ –ø—Ä–æ—î–∫—Ç—É)
   - **Database Password:** –°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–∞–¥—ñ–π–Ω–∏–π –ø–∞—Ä–æ–ª—å (**–ó–ê–ü–ò–®–Ü–¢–¨ –ô–û–ì–û!**)
     - –ü—Ä–∏–∫–ª–∞–¥: `TextRPG2024!SecurePass`
   - **Region:** –û–±–µ—Ä—ñ—Ç—å –Ω–∞–π–±–ª–∏–∂—á–∏–π —Ä–µ–≥—ñ–æ–Ω:
     - `Europe West` (Frankfurt) - —è–∫—â–æ –≤ –Ñ–≤—Ä–æ–ø—ñ
     - `Central US` (Iowa) - —è–∫—â–æ –≤ –°–®–ê
   - **Pricing Plan:** `Free` (–±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π –ø–ª–∞–Ω –¥–æ—Å—Ç–∞—Ç–Ω—ñ–π –¥–ª—è –ø–æ—á–∞—Ç–∫—É)

4. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Create new project"**
5. –ó–∞—á–µ–∫–∞–π—Ç–µ 1-2 —Ö–≤–∏–ª–∏–Ω–∏, –ø–æ–∫–∏ –ø—Ä–æ—î–∫—Ç —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è

<hr style="border: none; border-top: 2px dotted #C9B36B; margin: 20px 0;">

## –ö—Ä–æ–∫ 3: –û—Ç—Ä–∏–º–∞–Ω–Ω—è API –∫–ª—é—á—ñ–≤

1. –ü—ñ—Å–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø—Ä–æ—î–∫—Ç—É –ø–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ **Dashboard**
2. –£ –ª—ñ–≤–æ–º—É –º–µ–Ω—é –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Settings"** (—ñ–∫–æ–Ω–∫–∞ ‚öôÔ∏è)
3. –í–∏–±–µ—Ä—ñ—Ç—å **"API"** –≤ –ø—ñ–¥–º–µ–Ω—é
4. –ó–Ω–∞–π–¥—ñ—Ç—å —Ä–æ–∑–¥—ñ–ª **"Project API keys"**

**–í–ê–ñ–õ–ò–í–û:** –ó–∞–ø–∏—à—ñ—Ç—å —Ü—ñ –¥–∞–Ω—ñ (–ø–æ—Ç—Ä—ñ–±–Ω—ñ –¥–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è):

- **Project URL:** `https://xxxxx.supabase.co` (—Ü–µ –≤–∞—à API URL)
- **anon public key:** `eyJhbGc...` (–ø—É–±–ª—ñ—á–Ω–∏–π –∫–ª—é—á, –±–µ–∑–ø–µ—á–Ω–∏–π –¥–ª—è –∫–ª—ñ—î–Ω—Ç–∞)
- **service_role secret key:** `eyJhbGc...` (–¢–Ü–õ–¨–ö–ò –¥–ª—è backend, –ù–ï –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –≤ –∫–ª—ñ—î–Ω—Ç—ñ!)

**–ü—Ä–∏–∫–ª–∞–¥:**
```
Project URL: https://abcdefghijklmnop.supabase.co
anon public: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFiY2RlZmdoaWprbG1ub3AiLCJyb2xlIjoiYW5vbiIsImlhdCI6MTYzMDU2NzI4OSwiZXhwIjoxOTQ2MTQzMjg5fQ.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
```

5. **–¢–∞–∫–æ–∂ –∑–∞–ø–∏—à—ñ—Ç—å Database Password** (—Ç–æ–π, —â–æ –≤–∏ —Å—Ç–≤–æ—Ä–∏–ª–∏ –Ω–∞ –∫—Ä–æ—Ü—ñ 2)

<hr style="border: none; border-top: 2px dotted #C9B36B; margin: 20px 0;">

## –ö—Ä–æ–∫ 4: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞–±–ª–∏—Ü—ñ –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö

1. –£ –ª—ñ–≤–æ–º—É –º–µ–Ω—é –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Table Editor"**
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"New Table"**
3. –°—Ç–≤–æ—Ä—ñ—Ç—å —Ç–∞–±–ª–∏—Ü—é:

   **Table name:** `user_data`

   **Columns:**
   - `id` - —Ç–∏–ø `uuid`, Primary Key, Default: `gen_random_uuid()`
   - `user_id` - —Ç–∏–ø `text`, Not null
   - `key` - —Ç–∏–ø `text`, Not null
   - `value` - —Ç–∏–ø `jsonb`, Not null
   - `created_at` - —Ç–∏–ø `timestamptz`, Default: `now()`
   - `updated_at` - —Ç–∏–ø `timestamptz`, Default: `now()`

4. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Save"**

5. –°—Ç–≤–æ—Ä—ñ—Ç—å —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π —ñ–Ω–¥–µ–∫—Å –¥–ª—è —à–≤–∏–¥–∫–æ–≥–æ –ø–æ—à—É–∫—É:
   - –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –Ω–∞ —Ç–∞–±–ª–∏—Ü—é `user_data`
   - –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ –≤–∫–ª–∞–¥–∫–∏ **"Indexes"**
   - –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Create Index"**
   - **Index name:** `idx_user_data_user_key`
   - **Columns:** `user_id`, `key`
   - **Unique:** –≤–∫–ª—é—á–∏—Ç–∏
   - –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Save"**

<hr style="border: none; border-top: 2px dotted #C9B36B; margin: 20px 0;">

## –ö—Ä–æ–∫ 5: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Row Level Security (RLS)

**–í–ê–ñ–õ–ò–í–û:** –¶–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –¥–ª—è –±–µ–∑–ø–µ–∫–∏ - –∫–æ–∂–µ–Ω –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–∞—î –¥–æ—Å—Ç—É–ø —Ç—ñ–ª—å–∫–∏ –¥–æ —Å–≤–æ—ó—Ö –¥–∞–Ω–∏—Ö.

1. –£ –ª—ñ–≤–æ–º—É –º–µ–Ω—é –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Authentication"** ‚Üí **"Policies"**
2. –í–∏–±–µ—Ä—ñ—Ç—å —Ç–∞–±–ª–∏—Ü—é `user_data`
3. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"New Policy"**
4. –û–±–µ—Ä—ñ—Ç—å **"Create a policy from scratch"**
5. –ù–∞–ª–∞—à—Ç—É–π—Ç–µ:
   - **Policy name:** `Users can manage their own data`
   - **Allowed operation:** `ALL` (SELECT, INSERT, UPDATE, DELETE)
   - **Policy definition:** 
   ```sql
   (auth.uid()::text = user_id)
   ```
   –ê–ë–û —è–∫—â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ text user_id:
   ```sql
   (auth.uid()::text = user_id OR auth.jwt()->>'sub' = user_id)
   ```
6. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Save"**

**–ü—Ä–∏–º—ñ—Ç–∫–∞:** –î–ª—è –ø–æ—á–∞—Ç–∫—É –º–æ–∂–Ω–∞ —Ç–∏–º—á–∞—Å–æ–≤–æ –≤–∏–º–∫–Ω—É—Ç–∏ RLS (–¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è), –∞–ª–µ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω—É –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∫–ª—é—á–∏—Ç–∏.

<hr style="border: none; border-top: 2px dotted #C9B36B; margin: 20px 0;">

## –ö—Ä–æ–∫ 6: –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π

–£ –ø—Ä–æ—î–∫—Ç—ñ –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ Supabase –∫–ª—ñ—î–Ω—Ç:

```bash
npm install @supabase/supabase-js
```

<hr style="border: none; border-top: 2px dotted #C9B36B; margin: 20px 0;">

## –ö—Ä–æ–∫ 7: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó

–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `.env.local` –≤ –∫–æ—Ä–µ–Ω—ñ –ø—Ä–æ—î–∫—Ç—É (–ø–æ—Ä—è–¥ –∑ `package.json`):

```env
VITE_SUPABASE_URL=https://xxxxx.supabase.co
VITE_SUPABASE_ANON_KEY=eyJhbGc...
```

**–í–ê–ñ–õ–ò–í–û:** 
- –ó–∞–º—ñ–Ω—ñ—Ç—å `xxxxx` –Ω–∞ –≤–∞—à —Ä–µ–∞–ª—å–Ω–∏–π Project URL
- –ó–∞–º—ñ–Ω—ñ—Ç—å `eyJhbGc...` –Ω–∞ –≤–∞—à —Ä–µ–∞–ª—å–Ω–∏–π anon public key
- –ù–µ –∫–æ–º—ñ—Ç—å—Ç–µ `.env.local` –≤ git! –í—ñ–Ω –≤–∂–µ –º–∞—î –±—É—Ç–∏ –≤ `.gitignore` (—á–µ—Ä–µ–∑ `*.local`)

**–ü—Ä–∏–∫–ª–∞–¥:**
```env
VITE_SUPABASE_URL=https://abcdefghijklmnop.supabase.co
VITE_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFiY2RlZmdoaWprbG1ub3AiLCJyb2xlIjoiYW5vbiIsImlhdCI6MTYzMDU2NzI4OSwiZXhwIjoxOTQ2MTQzMjg5fQ.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
```

<hr style="border: none; border-top: 2px dotted #C9B36B; margin: 20px 0;">

## –ö—Ä–æ–∫ 8: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø—Ä–∏–∫–ª–∞–¥—É –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó

–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `.env.example` –≤ –∫–æ—Ä–µ–Ω—ñ –ø—Ä–æ—î–∫—Ç—É (—Ü–µ –ø—Ä–∏–∫–ª–∞–¥ –¥–ª—è —ñ–Ω—à–∏—Ö —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤):

```env
VITE_SUPABASE_URL=your_supabase_url_here
VITE_SUPABASE_ANON_KEY=your_anon_key_here
```

–¶–µ–π —Ñ–∞–π–ª –º–æ–∂–Ω–∞ –∫–æ–º—ñ—Ç–∏—Ç–∏ –≤ git (–±–µ–∑ —Ä–µ–∞–ª—å–Ω–∏—Ö –∫–ª—é—á—ñ–≤).

<hr style="border: none; border-top: 2px dotted #C9B36B; margin: 20px 0;">

## –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏ (–ø—ñ—Å–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è)

–ü—ñ—Å–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –≤—Å—ñ—Ö –∫—Ä–æ–∫—ñ–≤, —è –¥–æ–ø–æ–º–æ–∂—É –≤–∞–º:

1. ‚úÖ –°—Ç–≤–æ—Ä–∏—Ç–∏ Supabase –∫–ª—ñ—î–Ω—Ç (`src/lib/supabase.ts`)
2. ‚úÖ –û–Ω–æ–≤–∏—Ç–∏ `src/state/persistence.ts` –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Supabase
3. ‚úÖ –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—é (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ)
4. ‚úÖ –ú—ñ–≥—Ä–∞—Ü—ñ—é –¥–∞–Ω–∏—Ö –∑ localStorage (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ)
5. ‚úÖ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó

<hr style="border: none; border-top: 2px dotted #C9B36B; margin: 20px 0;">

## –ö–æ—Ä–∏—Å–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è

- [Supabase Dashboard](https://app.supabase.com)
- [Supabase Docs](https://supabase.com/docs)
- [Supabase JavaScript Client](https://supabase.com/docs/reference/javascript/introduction)
- [Supabase Auth](https://supabase.com/docs/guides/auth)

<hr style="border: none; border-top: 2px dotted #C9B36B; margin: 20px 0;">

## üí° –í–∞–∂–ª–∏–≤—ñ –Ω–æ—Ç–∞—Ç–∫–∏

1. **Database Password:** –ó–∞–ø–∏—à—ñ—Ç—å –π–æ–≥–æ –≤ –±–µ–∑–ø–µ—á–Ω–µ –º—ñ—Å—Ü–µ - –≤—ñ–Ω –ø–æ—Ç—Ä—ñ–±–µ–Ω –¥–ª—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –ë–î
2. **API Keys:** `anon` –∫–ª—é—á –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –≤ –∫–ª—ñ—î–Ω—Ç—ñ, –∞–ª–µ `service_role` - –¢–Ü–õ–¨–ö–ò –Ω–∞ backend!
3. **RLS (Row Level Security):** –î–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω—É –û–ë–û–í'–Ø–ó–ö–û–í–û –Ω–∞–ª–∞—à—Ç—É–π—Ç–µ RLS –¥–ª—è –±–µ–∑–ø–µ–∫–∏
4. **Free Plan:** –ú–∞—î –¥–æ—Å—Ç–∞—Ç–Ω—å–æ —Ä–µ—Å—É—Ä—Å—ñ–≤ –¥–ª—è –ø–æ—á–∞—Ç–∫—É (500MB –±–∞–∑–∞ –¥–∞–Ω–∏—Ö, 2GB bandwidth)
5. **Backup:** Supabase –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Ä–æ–±–∏—Ç—å backup, –∞–ª–µ –¥–ª—è –≤–∞–∂–ª–∏–≤–∏—Ö –¥–∞–Ω–∏—Ö —Ä–æ–±—ñ—Ç—å —Å–≤–æ—ó backup
