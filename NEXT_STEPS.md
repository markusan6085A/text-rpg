# üìã –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏ –ø—ñ—Å–ª—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è Supabase

## ‚úÖ –©–æ –≤–∂–µ –≥–æ—Ç–æ–≤–æ:

1. ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö –ø—ñ–¥–∫–ª—é—á–µ–Ω–∞ (Supabase PostgreSQL)
2. ‚úÖ –ú—ñ–≥—Ä–∞—Ü—ñ—ó –∑–∞—Å—Ç–æ—Å–æ–≤–∞–Ω—ñ (—Ç–∞–±–ª–∏—Ü—ñ —Å—Ç–≤–æ—Ä–µ–Ω—ñ)
3. ‚úÖ Backend —Å–µ—Ä–≤–µ—Ä –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π (Fastify + Prisma)
4. ‚úÖ API endpoints –¥–ª—è auth —Ç–∞ characters

<hr style="border: none; border-top: 2px dotted #C9B36B; margin: 20px 0;">

## üéØ –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏:

### 1. ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —á–∏ –ø—Ä–∞—Ü—é—î —Å–µ—Ä–≤–µ—Ä

–í—ñ–¥–∫—Ä–∏–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä—ñ:
```
http://localhost:3000
```

–ê–±–æ:
```
http://localhost:3000/health
```

–ü–æ–≤–∏–Ω–Ω–æ –ø–æ–≤–µ—Ä–Ω—É—Ç–∏:
```json
{
  "status": "ok"
}
```

<hr style="border: none; border-top: 2px dotted #C9B36B; margin: 20px 0;">

### 2. üìù –î–æ–¥–∞—Ç–∏ API endpoints –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö –≥–µ—Ä–æ—è

**–ó–∞—Ä–∞–∑ —î:**
- ‚úÖ `GET /characters` - —Å–ø–∏—Å–æ–∫ –ø–µ—Ä—Å–æ–Ω–∞–∂—ñ–≤
- ‚úÖ `POST /characters` - —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞

**–ü–æ—Ç—Ä—ñ–±–Ω–æ –¥–æ–¥–∞—Ç–∏:**
- üî≤ `PUT /characters/:id` - –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ (heroJson, level, exp, adena, —Ç–æ—â–æ)
- üî≤ `GET /characters/:id` - –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞

–¶–µ –¥–æ–∑–≤–æ–ª–∏—Ç—å –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –¥–∞–Ω—ñ –≥–µ—Ä–æ—è (—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, —ñ–Ω–≤–µ–Ω—Ç–∞—Ä, —Ç–æ—â–æ) –≤ –±–∞–∑—ñ –¥–∞–Ω–∏—Ö.

<hr style="border: none; border-top: 2px dotted #C9B36B; margin: 20px 0;">

### 3. üîÑ –û–Ω–æ–≤–∏—Ç–∏ `persistence.ts` –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è backend API

**–ó–∞—Ä–∞–∑:**
- –î–∞–Ω—ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ `localStorage`

**–ü–æ—Ç—Ä—ñ–±–Ω–æ:**
- –í–∏–∫–ª–∏–∫–∞—Ç–∏ backend API –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è/–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ JWT —Ç–æ–∫–µ–Ω –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó

<hr style="border: none; border-top: 2px dotted #C9B36B; margin: 20px 0;">

### 4. üß™ –ü—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ API

**–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è:**
```bash
POST http://localhost:3000/auth/register
{
  "login": "testuser",
  "password": "testpass123"
}
```

**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è:**
```bash
POST http://localhost:3000/auth/login
{
  "login": "testuser",
  "password": "testpass123"
}
```

**–°–ø–∏—Å–æ–∫ –ø–µ—Ä—Å–æ–Ω–∞–∂—ñ–≤:**
```bash
GET http://localhost:3000/characters
Authorization: Bearer <token>
```

<hr style="border: none; border-top: 2px dotted #C9B36B; margin: 20px 0;">

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó:

1. **–î–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è API** –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ:
   - Postman
   - Insomnia
   - –ê–±–æ –ø—Ä–æ—Å—Ç–æ `fetch` –≤ –±—Ä–∞—É–∑–µ—Ä—ñ

2. **–î–ª—è –ø–µ—Ä–µ–≥–ª—è–¥—É –¥–∞–Ω–∏—Ö** –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ:
   ```bash
   cd server
   npm run prisma:studio
   ```
   –í—ñ–¥–∫—Ä–∏—î—Ç—å—Å—è Prisma Studio, –¥–µ –º–æ–∂–Ω–∞ –ø–æ–±–∞—á–∏—Ç–∏ –≤—Å—ñ —Ç–∞–±–ª–∏—Ü—ñ —Ç–∞ –¥–∞–Ω—ñ.

3. **–î–ª—è —Ä–æ–∑—Ä–æ–±–∫–∏** –∑–∞–ø—É—Å–∫–∞–π—Ç–µ:
   ```bash
   cd server
   npm run dev
   ```
   –°–µ—Ä–≤–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è –ø—Ä–∏ –∑–º—ñ–Ω—ñ –∫–æ–¥—É.

<hr style="border: none; border-top: 2px dotted #C9B36B; margin: 20px 0;">

## üöÄ –ü–ª–∞–Ω –¥—ñ–π:

1. ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —á–∏ –ø—Ä–∞—Ü—é—î —Å–µ—Ä–≤–µ—Ä (`http://localhost:3000/health`)
2. üìù –î–æ–¥–∞—Ç–∏ `PUT /characters/:id` endpoint
3. üîÑ –û–Ω–æ–≤–∏—Ç–∏ `persistence.ts` –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è API
4. üß™ –ü—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è/–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö

<hr style="border: none; border-top: 2px dotted #C9B36B; margin: 20px 0;">

**–í—Å–µ –≥–æ—Ç–æ–≤–æ –¥–ª—è –Ω–∞—Å—Ç—É–ø–Ω–æ–≥–æ –∫—Ä–æ–∫—É! üéâ**
